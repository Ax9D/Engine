#version 400 core

uniform sampler2D map;
uniform sampler2D grass;
uniform sampler2D dirt;

in vec2 tC;


out vec4 color;
void main()
{
    vec4 mapCol=texture(map,tC);
    vec4 grassCol=texture(grass,tC*40);
    vec4 dirtCol=texture(dirt,tC*40);

    float gFactor=1-mapCol.r-mapCol.g-mapCol.b;
    float dFactor=mapCol.r;

    vec4 finalCol=vec4(gFactor*grassCol.rgb+dFactor*dirtCol.rgb,1.0);

    color=finalCol;
}